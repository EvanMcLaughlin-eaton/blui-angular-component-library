@import '../utility/utility';

$statusWidth: 6px;
$contentPaddingLeft: 16px;
$normalHeight: 72px;
$denseHeight: 52px;

/* RTL */
[dir='rtl'] {
    .pxb-info-list-item,
    .mat-list-base .mat-list-item.pxb-info-list-item {
        &.pxb-info-list-item-status .mat-list-item-content {
            border-right: solid $statusWidth;
            border-right-color: inherit;
            padding-right: $contentPaddingLeft - $statusWidth;
            padding-left: $contentPaddingLeft;
            border-left: unset;
        }
        .mat-list-item-content .mat-list-text {
            padding-right: 0;
        }
        .pxb-info-list-item-icon-wrapper > *, .pxb-chevron {
            @include invert();
        }
        .pxb-info-list-item-left-content-wrapper > * {
            margin-left: 16px;
            margin-right: 0;
        }
        .pxb-info-list-item-right-content {
            margin-right: 16px;
            margin-left: 0;
        }
    }
    mat-divider.mat-divider.pxb-info-list-item-partial-divider {
        left: 0;
        right: 72px;
    }
}

.pxb-info-list-item,
.mat-list-base .mat-list-item.pxb-info-list-item {
    width: 100%;
    height: inherit; /* Used to override height applied when wrapped in a mat-list. */
    .mat-list-item-content {
        display: flex;
        align-items: center;
        box-sizing: border-box;
        height: $normalHeight;
        padding: 8px 16px 8px $contentPaddingLeft;
        width: 100%;

        // Needed for ng v9
        .mat-list-text {
            padding-left: 0;
            padding-right: 0;
        }
    }

    &.pxb-info-list-item-status .mat-list-item-content {
        border-left: solid $statusWidth;
        border-left-color: inherit;
        padding-left: $contentPaddingLeft - $statusWidth;
    }

    &.pxb-info-list-item-dense .mat-list-item-content {
        height: $denseHeight;
    }

    &.pxb-info-list-item-wrap {
        .mat-list-item-content {
            height: unset;
            min-height: $normalHeight;
        }
        &.pxb-info-list-item-dense .mat-list-item-content {
            min-height: $denseHeight;
        }
    }

    .pxb-info-list-item-title-wrapper {
        font-size: 16px; // TODO: Fix via theme
        font-weight: 600;
        line-height: 1.25;
        margin-bottom: 0;
    }

    .pxb-info-list-item-subtitle-wrapper {
        font-weight: 400;
        line-height: 1.3;
    }

    .pxb-info-list-item-title-wrapper,
    .pxb-info-list-item-subtitle-wrapper {
        * {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        &.pxb-info-list-item-wrap * {
            white-space: normal;
            overflow: unset;
            text-overflow: unset;
        }
    }

    // Display order is below, left-to-right.
    .pxb-info-list-item-icon-wrapper,
    .pxb-info-list-item-left-content-wrapper,
    .mat-list-text,
    .pxb-info-list-item-spacer,
    .pxb-info-list-item-right-content {
        display: flex;
    }

    .pxb-info-list-item-icon-wrapper {
        order: 1;
        width: 56px;
        height: auto; /* Used to override height applied when wrapped in a mat-list. */
        min-width: 56px;
        &.pxb-info-list-item-hide-padding:empty {
            padding: 0;
            width: 0;
            min-width: unset;
        }
        &.pxb-info-list-item-avatar > * {
            padding: 8px;
            display: flex;
            border-radius: 50%;
        }
    }

    .pxb-info-list-item-left-content-wrapper {
        order: 2;
        > * {
            display: flex;
        }
    }
    .pxb-info-list-item-left-content-wrapper > * {
        margin-right: 16px;
    }

    .mat-list-text {
        order: 3;
        overflow: hidden;
        flex-direction: column;
    }

    .pxb-info-list-item-spacer {
        order: 4;
    }

    .pxb-info-list-item-right-content {
        order: 5;
        white-space: nowrap;
        margin-left: 16px;
        .pxb-info-list-item-right-content-wrapper > * {
            display: flex;
            align-items: center;
        }
    }
}

mat-divider {
    &.pxb-info-list-item-divider {
        margin-top: -1px;
    }
    &.mat-divider.pxb-info-list-item-partial-divider {
        position: relative;
        bottom: 0;
        right: 0;
        left: 72px;
        width: calc(100% - 72px);
    }
}
